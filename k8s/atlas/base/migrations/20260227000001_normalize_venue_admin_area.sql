-- Convert existing free-text venues.admin_area values to ISO 3166-2 codes.
-- Unrecognized values are set to NULL (unknown is safer than incorrect).
UPDATE venues
SET admin_area = CASE admin_area
    -- With suffix
    WHEN '北海道'   THEN 'JP-01'
    WHEN '青森県'   THEN 'JP-02'
    WHEN '岩手県'   THEN 'JP-03'
    WHEN '宮城県'   THEN 'JP-04'
    WHEN '秋田県'   THEN 'JP-05'
    WHEN '山形県'   THEN 'JP-06'
    WHEN '福島県'   THEN 'JP-07'
    WHEN '茨城県'   THEN 'JP-08'
    WHEN '栃木県'   THEN 'JP-09'
    WHEN '群馬県'   THEN 'JP-10'
    WHEN '埼玉県'   THEN 'JP-11'
    WHEN '千葉県'   THEN 'JP-12'
    WHEN '東京都'   THEN 'JP-13'
    WHEN '神奈川県' THEN 'JP-14'
    WHEN '新潟県'   THEN 'JP-15'
    WHEN '富山県'   THEN 'JP-16'
    WHEN '石川県'   THEN 'JP-17'
    WHEN '福井県'   THEN 'JP-18'
    WHEN '山梨県'   THEN 'JP-19'
    WHEN '長野県'   THEN 'JP-20'
    WHEN '岐阜県'   THEN 'JP-21'
    WHEN '静岡県'   THEN 'JP-22'
    WHEN '愛知県'   THEN 'JP-23'
    WHEN '三重県'   THEN 'JP-24'
    WHEN '滋賀県'   THEN 'JP-25'
    WHEN '京都府'   THEN 'JP-26'
    WHEN '大阪府'   THEN 'JP-27'
    WHEN '兵庫県'   THEN 'JP-28'
    WHEN '奈良県'   THEN 'JP-29'
    WHEN '和歌山県' THEN 'JP-30'
    WHEN '鳥取県'   THEN 'JP-31'
    WHEN '島根県'   THEN 'JP-32'
    WHEN '岡山県'   THEN 'JP-33'
    WHEN '広島県'   THEN 'JP-34'
    WHEN '山口県'   THEN 'JP-35'
    WHEN '徳島県'   THEN 'JP-36'
    WHEN '香川県'   THEN 'JP-37'
    WHEN '愛媛県'   THEN 'JP-38'
    WHEN '高知県'   THEN 'JP-39'
    WHEN '福岡県'   THEN 'JP-40'
    WHEN '佐賀県'   THEN 'JP-41'
    WHEN '長崎県'   THEN 'JP-42'
    WHEN '熊本県'   THEN 'JP-43'
    WHEN '大分県'   THEN 'JP-44'
    WHEN '宮崎県'   THEN 'JP-45'
    WHEN '鹿児島県' THEN 'JP-46'
    WHEN '沖縄県'   THEN 'JP-47'
    -- Without suffix
    WHEN '青森'     THEN 'JP-02'
    WHEN '岩手'     THEN 'JP-03'
    WHEN '宮城'     THEN 'JP-04'
    WHEN '秋田'     THEN 'JP-05'
    WHEN '山形'     THEN 'JP-06'
    WHEN '福島'     THEN 'JP-07'
    WHEN '茨城'     THEN 'JP-08'
    WHEN '栃木'     THEN 'JP-09'
    WHEN '群馬'     THEN 'JP-10'
    WHEN '埼玉'     THEN 'JP-11'
    WHEN '千葉'     THEN 'JP-12'
    WHEN '東京'     THEN 'JP-13'
    WHEN '神奈川'   THEN 'JP-14'
    WHEN '新潟'     THEN 'JP-15'
    WHEN '富山'     THEN 'JP-16'
    WHEN '石川'     THEN 'JP-17'
    WHEN '福井'     THEN 'JP-18'
    WHEN '山梨'     THEN 'JP-19'
    WHEN '長野'     THEN 'JP-20'
    WHEN '岐阜'     THEN 'JP-21'
    WHEN '静岡'     THEN 'JP-22'
    WHEN '愛知'     THEN 'JP-23'
    WHEN '三重'     THEN 'JP-24'
    WHEN '滋賀'     THEN 'JP-25'
    WHEN '京都'     THEN 'JP-26'
    WHEN '大阪'     THEN 'JP-27'
    WHEN '兵庫'     THEN 'JP-28'
    WHEN '奈良'     THEN 'JP-29'
    WHEN '和歌山'   THEN 'JP-30'
    WHEN '鳥取'     THEN 'JP-31'
    WHEN '島根'     THEN 'JP-32'
    WHEN '岡山'     THEN 'JP-33'
    WHEN '広島'     THEN 'JP-34'
    WHEN '山口'     THEN 'JP-35'
    WHEN '徳島'     THEN 'JP-36'
    WHEN '香川'     THEN 'JP-37'
    WHEN '愛媛'     THEN 'JP-38'
    WHEN '高知'     THEN 'JP-39'
    WHEN '福岡'     THEN 'JP-40'
    WHEN '佐賀'     THEN 'JP-41'
    WHEN '長崎'     THEN 'JP-42'
    WHEN '熊本'     THEN 'JP-43'
    WHEN '大分'     THEN 'JP-44'
    WHEN '宮崎'     THEN 'JP-45'
    WHEN '鹿児島'   THEN 'JP-46'
    WHEN '沖縄'     THEN 'JP-47'
    ELSE NULL
END
WHERE admin_area IS NOT NULL;
